{% extends 'users/base.html' %}

{% block title %}Verify OTP - OTP Authentication System{% endblock %}

{% block content %}
<div class="flex flex-col items-center justify-center min-h-[80vh]">
    <div class="w-full max-w-md bg-white rounded-lg shadow-md overflow-hidden">
        <div class="px-6 py-8">
            <h1 class="text-2xl font-bold text-center text-gray-800 mb-2">Verify OTP</h1>
            <p class="text-center text-gray-600 mb-8">
                {% if purpose == 'signup' %}
                Enter the OTP sent to your email to complete registration
                {% else %}
                Enter the OTP sent to your email to login
                {% endif %}
            </p>
            
            <form method="post" class="space-y-4">
                {% csrf_token %}
                
                <div>
                    <label for="id_otp" class="block text-sm font-medium text-gray-700 mb-1">OTP</label>
                    {{ form.otp }}
                    {% if form.otp.errors %}
                    <p class="form-error">{{ form.otp.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <button type="submit" class="w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md text-center transition duration-200">
                    Verify OTP
                </button>
            </form>
        </div>
        
        <div class="px-6 py-4 bg-gray-50 border-t border-gray-200">
            <p class="text-center text-gray-500 text-sm">
                {% if purpose == 'signup' %}
                <a href="{% url 'signup_step2' %}" class="text-blue-600 hover:underline">Resend OTP</a>
                {% else %}
                <a href="{% url 'login' %}" class="text-blue-600 hover:underline">Resend OTP</a>
                {% endif %}
            </p>
        </div>
    </div>
</div>
{% endblock %}
